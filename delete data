#include <stdio.h>
#include <string.h>
#define ID_LEN 20          /* max length of asteroid name/ID */
#define LINE_MAX 256
int main(void)
{    
FILE *src = fopen("asteroids.txt");    
FILE *tmp = fopen("temp.txt");    
char line[LINE_MAX], key[ID_LEN];    
int found = 0;          /*flag to remember if we deleted something */
if (!src || !tmp) {
    perror("File open error");
    return 1;
}

printf("Enter asteroid name (or ID) to delete:");
scanf("%19s", key);

while (fgets(line, sizeof line, src)) {
    /* assume the first token in each line is the name/ID */
    if (strncmp(line, key, strlen(key)) == 0) {
        found = 1;          /* skip writing this line  delete it */
        continue;
    }
    fputs(line, tmp);       /* copy all other lines */
}

fclose(src);
fclose(tmp);
remove("asteroids.txt");
rename("temp.txt","asteroids.txt");

if (found){
    printf("Thank you! This asteroid was successfully removed from our database!\n");
}
else{
    printf("No matching asteroid found.\n");
}
return 0;

}
